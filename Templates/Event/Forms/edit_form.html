<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Nouvelle Invitation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
    body {
      font-family: "Segoe UI", system-ui, sans-serif;
      min-height: 100vh;
      background-color: #0b1c2d;
      position: relative;
      overflow-x: hidden;
    }

    /* ===== BACKGROUND GEOMETRIQUE ===== */
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background:
        linear-gradient(135deg, rgba(255,255,255,0.03) 25%, transparent 25%) -60px 0,
        linear-gradient(225deg, rgba(255,255,255,0.03) 25%, transparent 25%) -60px 0,
        linear-gradient(315deg, rgba(255,255,255,0.03) 25%, transparent 25%),
        linear-gradient(45deg, rgba(255,255,255,0.03) 25%, transparent 25%);
      background-size: 120px 120px;
      z-index: 0;
    }
    .card
    {
         background-color : rgb(0,0,0,0.2);
         color : white;
} 
    </style>
</head>
<body >

<div class="container py-4">

    <!-- Header -->
    <div class="mb-4 text-center text-light">
        <h4 class="fw-bold">üì© Modification d'un evenement</h4>
        <p class="text-light">Remplissez les informations ci-dessous pour appliquer la Modification</p>
    </div>

    <!-- Formulaire -->
    <div class="card shadow-sm rounded-4 p-4">

        <form method="post" action="/edit_event/{{event.id}}">
             {%if dateError %}
                <div class="alert alert-danger">
                    <p>{{dateError}}</p>
                </div>
            {% endif%}
             {%if error %}
                <div class="alert alert-danger">
                    <p>{{Error}}</p>
                </div>
            {% endif%}
            <!-- Titre de l'√©v√©nement -->
            <div class="mb-3">
                <label for="titre" class="form-label fw-semibold">Nom de l'√©v√©nement</label>
                <input type="text" class="form-control" id="titre" name="eventName" placeholder="Ex : Gala 2026" value="{{event.name}}" required>
            </div>

            <div class="mb-3">
                <label for="lieu" class="form-label fw-semibold">Type d'evenement</label>
                <select name="eventType" id="eventState" class="form-select">
                    <option value="Mariage"{%if event.type == 'Mariage' %}selected{%endif%}>Mariage</option>
                    <option value="Anniversaire" {%if event.type == 'Anniversaire' %}selected{%endif%}>Anniversaire</option>
                    <option value="Conference"{%if event.type == 'Conference' %}selected{%endif%}>Conference</option>
                    <option value="Reunion"{%if event.type == 'Reunion' %}selected{%endif%}>Reunion</option>
                    <option value="Autres" {%if event.type == 'Autres' %}selected{%endif%}>Autres</option>
                </select>
            </div>

            <!-- Date de l'√©v√©nement -->
            <div class="mb-3">
                <label for="date" class="form-label fw-semibold">Date de l'√©v√©nement</label>
                <input type="date" class="form-control" id="date" name="eventDate" value="{{event.date}}" required>
            </div>

            <!-- Lieu de l'√©v√©nement -->
            <div class="mb-3">
                <label for="lieu" class="form-label fw-semibold">Addresse</label>
                <input type="text" class="form-control" id="lieu" name="eventAddress" placeholder="Ex : av : xxx commune : xxx ville : xxx" value="{{event.address}}" required>
            </div>

            <!-- statut de l'√©v√©nement -->
               <div class="mb-3">
                    <label for="lieu" class="form-label fw-semibold">State</label>
                    <select name="eventState" id="eventState" class="form-select">
                        <option value="{{event.state}}">{{event.state}}</option>
                        <option value="en cours">en cours</option>
                        <option value="termin√©">termin√©</option>
                    </select>
                </div>

            <!-- Description / Informations suppl√©mentaires -->
            <div class="mb-3">
                <label for="description" class="form-label fw-semibold">Description (optionnel)</label>
                <textarea class="form-control" id="description" name="eventDescription" rows="3" value="{{event.description}}" placeholder="Informations suppl√©mentaires"></textarea>
            </div>

            <!-- Boutons -->
            <div class="d-grid gap-2">
                <button type="submit" class="btn btn-primary rounded-pill">üíæ Enregistrer l'invitation</button>
                <a href="{{url_for('event_list')}}" class="btn btn-outline-secondary rounded-pill">‚Ü©Ô∏è Retour √† la liste</a>
            </div>

        </form>

    </div>

</div>

</body>
</html>